{
  "rules": {
    "questions": {
      "$uid": {
        ".read":    " auth.uid !== null && ( $uid === auth.uid  ||  root.child('/users/'+auth.uid+'/supervisedBy').val() === $uid)",
        ".write":   " auth.uid !== null &&   $uid === auth.uid  &&  root.child('/users/'+auth.uid+'/userType').val() === 1",
        "$questionId":{
          ".read":  " auth.uid !== null && ( $uid === auth.uid  ||  root.child('/users/'+auth.uid+'/supervisedBy').val() === $uid)",
          ".write": " auth.uid !== null &&   $uid === auth.uid  &&  root.child('/users/'+auth.uid+'/userType').val() === 1"
        }
      }
    },
    "answers": {
      ".read":  "  auth.uid !== null ",
      ".write": "  auth.uid !== null  &&  root.child('/users/'+auth.uid+'/userType').val() === 1 ",
      "$uid": {
        ".read":  "auth.uid !== null && ( $uid === auth.uid  || root.child('/users/'+auth.uid+'/supervising/'+$uid).val() === true)",
        ".write": "auth.uid !== null && ( $uid === auth.uid  || root.child('/users/'+auth.uid+'/supervising/'+$uid).val() === true)"
      }
    },
    "users":{
      "$uid": {
        ".read":    "auth.uid !== null  &&  ( $uid === auth.uid  ||  ( root.child('/users/'+auth.uid+'/userType').val() === 1  &&  root.child('/users/'+auth.uid+'/supervising/'+$uid).val() === true ) )",
        ".write":   "auth.uid !== null  &&  ( $uid === auth.uid  ||    root.child('/users/'+auth.uid+'/userType').val() === 1 )",
        "supervising": {
          ".read":  "auth.uid !== null  &&    $uid === auth.uid  &&  root.child('/users/'+auth.uid+'/userType').val() === 1",
          ".write": "auth.uid !== null  &&    $uid === auth.uid  &&  root.child('/users/'+auth.uid+'/userType').val() === 1"
        },
        "supervisedBy": {
          ".read":  "auth.uid !== null  &&  ( $uid === auth.uid  ||  ( root.child('/users/'+auth.uid+'/userType').val() === 1  &&  root.child('/users/'+auth.uid+'/supervising/'+$uid).val() === true ) )",
          ".write": "auth.uid !== null  &&                             root.child('/users/'+auth.uid+'/userType').val() === 1  &&  root.child('/users/'+auth.uid+'/supervising/'+$uid).val() === true"
        }, 
        "companyNames": {
          ".read":  "auth.uid !== null  &&  ( $uid === auth.uid  ||  ( root.child('/users/'+auth.uid+'/userType').val() === 1  &&  root.child('/users/'+auth.uid+'/supervising/'+$uid).val() === true ) )",
          ".write": "auth.uid !== null  &&                             root.child('/users/'+auth.uid+'/userType').val() === 1  &&  root.child('/users/'+auth.uid+'/supervising/'+$uid).val() === true"
        }
      }
    }
  }
}